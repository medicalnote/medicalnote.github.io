---
title: "メディカルノートの開発現場から(2)｜とても「メディカルノートらしい」Webサイトの運用"
date: 2017-08-14T19:52:02+09:00
tags: ["Wantedly","開発環境"]
author: "kawamoto"
slug : ""
draft: false
---

# メディカルノートの開発現場から(2)とても「メディカルノートらしい」Webサイトの運用

メディカルノートでCTOをしている河本と申します。何回かに渡ってメディカルノートがどのようなやり方でシステム開発を行っているかご紹介しようと思います。
間が空いてしまった2回目は小さめのTipsの話をしたいと思います。

## 静的Webサイトのリリースエンジニアリングを究極まで省力化したい

メディカルノートのエンジニアの主要なミッションとは毛色がだいぶ違いますが、静的Webサイトの制作・運用も社外のクリエイターの方々と連携しながら何件か行なっています。
本業であるエンジニアリングに専念するために社外のクリエイターの方が実質的な業務をほぼ全て円滑に行えるようWebサイトの運営体制を考えてみました。リリースは1ボタンで、デプロイはgit pushのみで完了させたいというのが目指している姿です。
ポイントは全てをGitHubとCircleCIに集約している点です。
最近のお気に入りのCircleCIの設定をお見せします。

```
 deployment:
  release:
    tag: /.*/
    commands:
      - eval 'aws s3 sync --acl public-read --delete $PWD/dist/ s3://example.jp/'
  staging:
    branch: /.*/
    commands:
      - eval 'aws s3 sync --acl public-read --delete $PWD/dist/ s3://staging.example.jp/'

test:
  override:
    - "gulp scss"
```
    
やっていることはとてもシンプルで
* すべての branch への push は staging 環境へ deploy
* すべての tag はproduction環境へdeploy
これだけです。すべてのbranchを同じ環境へdeployしているので同時に複数の開発を進行させるには不向きですが、現在の開発ペースであればこれで全く問題ありません。もし必要があればブランチごとのデプロイ方法も今後考えていきます。

## お知らせ

メディカルノートでは手を抜くための手間を惜しまないエンジニアを大募集しておりますので関心をもっていただいた方は是非、「話を聞きに行きたい」を押してください！
※Webサイト制作自体はエンジニアの本務ではありませんのでご注意ください。

{{< wantedly 127340 >}}
{{< wantedly 64718 >}}